;/*FB_PKG_DELIM*/

__d("MVisibilityToggle",["MCSS","MEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){}function a(a){var b=a.toggleButton,d=a.toggledElement,e=a.visible,f=a.onToggle||h;a=a.options;var g=!!a&&a.hideToggleButtonOnVisible===!0;c("MEvent").listen(b,"click",function(){e?c("MCSS").hide(d):(c("MCSS").show(d),g&&c("MCSS").hide(b)),e=!e,f(e)})}g.setupOnClick=a}),98);
__d("MSeoDirectoryLinks",["cx","MCSS","MVisibilityToggle"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.visible,e=a.toggleButton;d("MVisibilityToggle").setupOnClick({visible:b,toggleButton:e,toggledElement:a.linksContainer,onToggle:function(a){a?c("MCSS").addClass(e,"_97hz"):c("MCSS").removeClass(e,"_97hz")}})}g.initLinks=a}),98);
__d("KaiOSSendMessageUtil",["MEvent"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function a(){this.$1=!1,this.$2=null,this.$3()}var b=a.prototype;b.$3=function(){var a=this;this.$2=c("MEvent").listen(window,"beforeunload",function(){a.$1=!0,a.$2&&(a.$2.remove(),a.$2=null)})};b.postMessage=function(a,b,c,d){if(a&&b&&!this.$1){var e=new Map();e.set(h,b);c&&e.set(i,c);d!=null&&e.set(j,d);a.postMessage(e,"*")}};return a}();d=Object.freeze({HANDLE_BACK:"handle_back",MESSAGE_RECEIVED:"received",OPEN_URL:"open_url",REGISTER_PUSH:"register_push",SCREEN_ORIENTATION_LOCK:"screen_orientation_lock",UNREGISTER_PUSH:"unregister_push",CHECK_FOR_PUSH_UPDATE:"check_for_push_update",PUSH_UPDATE_COMPLETED:"push_update_completed",SET_VOLUME:"set_volume",FBT_STRINGS:"fbt_strings",CONFIG_RESPONSE:"config_response",FETCH_MSISDN:"fetch_msisdn",GET_CONTACTS:"get_contacts",TOGGLE_SPATIAL_NAV:"toggle_spatial_nav",LITE_MIGRATION_STATUS:"lite_migration_status"});var h="action",i="payload",j="callback_id",k=new b();function a(a,b,c,d){k.postMessage(a,b,c,d)}g.Type=d;g.Action=h;g.ActionPayload=i;g.CallbackID=j;g._singletonImpl=k;g.postMessage=a}),98);
__d("KaiOSConnectionHelper",["KaiOSSendMessageUtil"],(function(a,b,c,d,e,f,g){"use strict";var h="app://m.facebook.com";a=function(){function a(){this.hostWindow=null,this.resolveOnConnect=null}var b=a.prototype;b.receiveMessage=function(a){if(!a||a.origin!==h||!a.source)return!1;if(a.data==="ping"){this.hostWindow||(this.hostWindow=a.source,d("KaiOSSendMessageUtil").postMessage(this.hostWindow,d("KaiOSSendMessageUtil").Type.MESSAGE_RECEIVED));a=this.resolveOnConnect;a&&(a(),this.resolveOnConnect=null)}return!0};return a}();b=new a();c=b;g["default"]=c}),98);
__d("KaiOSControllerConfig",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("KaiOSControllerUtils",["KaiOSConnectionHelper","KaiOSSendMessageUtil","URLSearchParams"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(){this.callbacks=new Map(),this.nextCallbackID=1}var b=a.prototype;b.setCallback=function(a){var b=(this.nextCallbackID++).toString();this.callbacks.set(b,a);return b};b.handleCallback=function(a,b){if(a){var c=this.callbacks.get(a);c&&(this.callbacks["delete"](a),c(b));return!0}return!1};return a}();function a(a){return!1}function b(){var a=location.pathname;a=a==="/"||a==="/kaiosapp/jio/home/"||a.startsWith("/home.php")||a.startsWith("/index.php")||a.startsWith("/confirmemail.php");var b=new(c("URLSearchParams"))(window.location.search);b=b.has("soft");return a&&!b}function e(){var a=new(c("URLSearchParams"))(window.location.search);return a.has("exit_on_back")}function f(a){var b=new Map();b.set("url",a);d("KaiOSSendMessageUtil").postMessage(c("KaiOSConnectionHelper").hostWindow,d("KaiOSSendMessageUtil").Type.OPEN_URL,b)}function i(){return new h()}function j(a,b,c){var d=new XMLHttpRequest();d.open("POST",a);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=[];for(var e in b)a.push(encodeURIComponent(e)+"="+encodeURIComponent(b[e]));d.onload=function(){c&&c(d)};d.send(a.join("&"))}g.keyDownEventHandledByRegPage=a;g.isOnHomeOrConfPage=b;g.shouldExitOnBackForLoggedOutPush=e;g.openUrl=f;g.createCallbackHandler=i;g.sendBasicPost=j}),98);
__d("KaiOSFullscreenVideoHandler",["$InternalEnum","KaiOSSendMessageUtil","getActiveElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({RIGHT:6,LEFT:4,UP:2,DOWN:8,MIDDLE:5}),i=b("$InternalEnum")({KEY:"type",DOWN:"-1",UP:"1"});a=function(){function a(a){this.hostWindow=a}var b=a.prototype;b.handleKeyDownEvent=function(a){var b=this.getVideoIfFullScreen();if(!b)return!1;if(a.key==="SoftLeft"){document.exitFullscreen();return!0}else if(a.key==="SoftRight"){b.muted=!b.muted;return!0}return!1};b.handleClickEvent=function(a){a=this.getVideoIfFullScreen();if(!a)return!1;this.togglePause(a);return!0};b.handleMouseMoveEvent=function(a){return!1};b.getVideoIfFullScreen=function(){return document.fullscreenElement&&document.fullscreenElement.nodeName&&document.fullscreenElement.nodeName=="VIDEO"?c("getActiveElement")():null};b.seek=function(a,b){b?a.currentTime=Math.min(a.duration,a.currentTime+10):a.currentTime=Math.max(0,a.currentTime-10)};b.togglePause=function(a){a.paused?a.play():a.pause()};b.volume=function(a){if(!a||a!=Number(i.UP)&&a!=Number(i.DOWN))return;var b=new Map();b.set(String(i.KEY),a.toString());d("KaiOSSendMessageUtil").postMessage(this.hostWindow,d("KaiOSSendMessageUtil").Type.SET_VOLUME,b)};b.control=function(a,b){if(b)switch(b){case h.UP:this.volume(Number(i.UP));break;case h.DOWN:this.volume(Number(i.DOWN));break;case h.LEFT:this.seek(a,!1);break;case h.RIGHT:this.seek(a,!0);break;case h.MIDDLE:this.togglePause(a);break}};return a}();g["default"]=a}),98);
__d("KaiOSHTMLElementUtils",["Keys","MEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h=["email","number","password","search","tel","text","url"];function i(a){var b=a.tabIndex;if(parseInt(b,10)<0)return!1;if(b>0||b===0&&a.getAttribute("tabIndex")!==null)return!0;if(a instanceof HTMLAnchorElement)return!!a.href&&a.rel!="ignore";else if(a instanceof HTMLInputElement)return a.type!="hidden"&&a.type!="file"&&!a.disabled;else if(a instanceof HTMLButtonElement||a instanceof HTMLSelectElement||a instanceof HTMLTextAreaElement)return!a.disabled;return!1}function a(a){return a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement&&(h.includes(a.type)||a.type==="")}function j(a){return a.tagName==="A"}function b(a){return a.hasAttribute("data-nt")}function d(a){return a.hasAttribute("data-kaios-file-upload-element")}function e(a){return(a.hasAttribute("data-kaios-spatial-navigation")||a.hasAttribute("data-kaios-whitelist-nav")||i(a))&&!a.hasAttribute("data-kaios-blacklist-nav")&&k(a)}function k(a){return(a.offsetHeight!==0&&a.offsetWidth!==0||a.offsetParent!==null)&&window.getComputedStyle(a).visibility!=="hidden"}function f(a){for(var b=0;b<a.children.length;++b)if(j(a.children[b]))return a.children[b];for(b=0;b<a.children.length;++b){var c=a.children[b];for(var d=0;d<c.children.length;++d)if(j(c.children[d]))return c.children[d]}return null}function l(a,b){c("MEventListener").listen(a,"click",function(){b.submit()}),c("MEventListener").listen(a,"keyup",function(a){a.keyCode===c("Keys").RETURN&&b.submit()})}g.isTextfieldInput=a;g.isLink=j;g.isNTElement=b;g.isFileUploadElement=d;g.isSpatialNavElement=e;g.isVisible=k;g.getFirstLink=f;g.attachClickHandlerToSubmitFormOnElement=l}),98);
__d("KaiOSSoftkeyTrayLogger",["BanzaiLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){var b={event_category:"softkey_tray"};switch(a){case"kaios_tray_back":b.event="softkey_back_button_clicked";break;case"kaios_tray_menu":b.event="softkey_menu_button_clicked";break;case"kaios_tray_post":b.event="softkey_post_button_clicked";break;case"kaios_tray_menu_close":b.event="softkey_menu_close_button_clicked";break;default:b.event="softkey_other_button_clicked";b.miscellaneous={detail:a};break}c("BanzaiLogger").log("KaiOSEventsLoggerConfig",b)};g.logSoftkeyTrayButtonClicked=a}),98);
__d("KaiOSMenuHandler",["csx","cx","fbt","KaiOSSoftkeyTrayLogger","MCSS","MDOM","MEvent","MViewport","Stratcom","URI"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j;a=function(){function a(){var a=this;this.menuShown=!1;this.showPageSoftkeyTray=!1;this.toggleMenuVisibility=function(a,c){var d=b("MViewport").getScrollTop();if(d<=0)return;if(c)a.style.top="0px",a.classList.add("float");else{c=-Math.min(d,a.clientHeight);a.style.top=c+"px";a.classList.remove("float")}};this.$1=function(){a.showFloatingMenu()};this.$2=function(c){var d=a.leftButtonElement;c=c.getData().path;if(a.menuShown&&d!=null){var e=null;c!=null&&(e=new(j||(j=b("URI")))(c).getQueryData().soft);c=new CustomEvent("kaios_close_menu",{detail:{focusFirstNode:e!=="search"}});d.dispatchEvent(c);b("MViewport").scrollToTop()}};this.$3=function(c){c=c.detail;var d=c.leftButtonText;if(d!=null){a.showPageSoftkeyTray||b("MDOM").show(a.softkeyTrayContainer);var e=c.leftButtonEvent,f=c.leftButtonLoggingId;f=b("MDOM").create("div",{className:"_6ykc",id:f},d);b("MDOM").replace(a.leftButtonElement,f);a.leftButtonElement=f;e!=null&&b("MEvent").listen(f,"click",function(){var b=new CustomEvent(e);window.dispatchEvent(b);a.restorePageTray()})}d=c.rightButtonText;if(d!=null){var g=c.rightButtonEvent;f=c.rightButtonLoggingId;f=b("MDOM").create("div",{className:"_6ykd",id:f},d);b("MDOM").replace(a.rightButtonElement,f);a.rightButtonElement=f;g!=null&&b("MEvent").listen(f,"click",function(){var a=new CustomEvent(g);window.dispatchEvent(a)})}d=c.centerButtonText;if(d!=null&&a.centerButtonElement!=null&&d!=a.centerButtonElement.textContent){f=b("MDOM").create("div",{className:"_7gvg"},d);b("MDOM").replace(a.centerButtonElement,f);a.centerButtonElement=f}};this.$4=function(b){a.restorePageTray()}}var c=a.prototype;c.handleKeyEvents=function(a){if(this.softkeyTrayContainer==null||this.softkeyTrayContainer.style.display!=""||this.viewportElement!=null&&this.viewportElement.style.display!="")return!1;switch(a.key){case"SoftLeft":a=this.leftButtonElement;if(a!=null){a.click();b("KaiOSSoftkeyTrayLogger").logSoftkeyTrayButtonClicked(a.getAttribute("id"));return!0}break;case"SoftRight":a=this.rightButtonElement;if(a!=null){a.click();b("KaiOSSoftkeyTrayLogger").logSoftkeyTrayButtonClicked(a.getAttribute("id"));return!0}break;case"Backspace":case"BrowserBack":case"ArrowUp":case"ArrowDown":if(this.menuShown&&this.leftButtonElement!=null){this.leftButtonElement.click();return!0}break}return!1};c.showFloatingMenu=function(){var a=this.menuContainerElement;a!=null&&(this.menuShown=!0,this.toggleMenuVisibility(a,!0),this.updateBackgroundOverlayVisibility(!0),this.setupCloseMenuButton())};c.setupCloseMenuButton=function(){var a=this,c,d=this.leftButtonElement,e=this.rightButtonElement,f=this.centerButtonElement,g=(c=b("MDOM")).create("div",{className:"_6ykc",id:"kaios_tray_menu_close"},i._("Close"));c.replace(this.leftButtonElement,g);this.leftButtonElement=g;var h=c.create("div"),j=c.create("div");c.replace(this.rightButtonElement,h);this.rightButtonElement=h;c.replace(this.centerButtonElement,j);this.centerButtonElement=j;b("MEvent").listen(g,"click",function(){a.hideMenu(),a.swapButtons(g,d,h,e,j,f)});b("MEvent").listen(g,"kaios_close_menu",function(b){b=b.detail;var c=!0;typeof b==="object"&&("focusFirstNode"in b&&(c=b.focusFirstNode));a.hideMenu(c);a.swapButtons(g,d,h,e,j,f)})};c.hideMenu=function(a){a===void 0;a=this.menuContainerElement;a&&(this.menuShown=!1,this.toggleMenuVisibility(a,!1),this.updateBackgroundOverlayVisibility(!1))};c.swapButtons=function(a,c,d,e,f,g){b("MDOM").replace(a,c),b("MDOM").replace(d,e),b("MDOM").replace(f,g),this.leftButtonElement=c,this.rightButtonElement=e,this.centerButtonElement=g};c.updateBackgroundOverlayVisibility=function(a){this.backgroundElement&&(a?this.backgroundElement.classList.add("shown"):this.backgroundElement.classList.remove("shown"))};c.restorePageTray=function(){this.showPageSoftkeyTray||b("MDOM").hide(this.softkeyTrayContainer),b("MDOM").replace(this.leftButtonElement,this.pageLeftButtonElement),b("MDOM").replace(this.rightButtonElement,this.pageRightButtonElement),this.leftButtonElement=this.pageLeftButtonElement,this.rightButtonElement=this.pageRightButtonElement};c.restoreMenuOnInitIfShown=function(){this.menuShown&&this.hideMenu()};c.setupSoftKeyElements=function(a,b,c,d,e){this.backgroundElement=a,this.menuContainerElement=b,this.menuRootElement=c,this.softkeyTrayContainer=d,this.viewportElement=e};c.setupLeftButton=function(a){this.leftButtonElement=a,this.pageLeftButtonElement=a};c.setupMenuButton=function(a){this.setupLeftButton(a),this.menuShown=!1,b("MEvent").listen(a,"click",this.$1)};c.setupRightButton=function(a){this.rightButtonElement=a,this.pageRightButtonElement=a};c.setupCenterButton=function(a){this.centerButtonElement=a};c.setupHistoryListener=function(){b("Stratcom").listen("history:change",null,this.$2)};c.setupNavigationUpdateListener=function(){b("MEvent").listen(window,"m:kaios:spatialnav:update_tray",this.$3)};c.setupRestoreTrayListener=function(){b("Stratcom").listen("m:kaios:spatialav:restore_tray",null,this.$4)};c.setupSoftKeyTrayShowHideListener=function(){var a=this;b("Stratcom").listen("m:kaios:spatialnav:hide_tray",null,function(){if(!a.softkeyTrayContainer)return;b("MCSS").addClass(a.softkeyTrayContainer,"_7hj_")});b("Stratcom").listen("m:kaios:spatialnav:show_tray",null,function(){if(!a.softkeyTrayContainer)return;b("MCSS").removeClass(a.softkeyTrayContainer,"_7hj_")})};return a}();var k={impl:new a(),setup:function(a){var c=document.querySelector("._6yui"),d=document.querySelector("._6ywo"),e=document.querySelector("._6usn"),f=document.getElementById("viewport"),g=document.getElementById("kaios_tray");k.impl.showPageSoftkeyTray=a;a||b("MDOM").hide(g);k.impl.setupSoftKeyElements(c,d,e,g,f)},initForPage:function(a,b,c,d,e){k.setup(e),k.impl.setupNavigationUpdateListener(),k.impl.setupSoftKeyTrayShowHideListener(),k.impl.setupLeftButton(a),k.impl.setupCenterButton(d),k.impl.setupRightButton(b)},initForMenu:function(a){k.impl.restoreMenuOnInitIfShown(),k.impl.setupMenuButton(a),k.impl.setupHistoryListener(),k.impl.setupRestoreTrayListener(),k.impl.updateBackgroundOverlayVisibility(!1)},handleKeyEvents:function(a){return k.impl.handleKeyEvents(a)}};e.exports=k}),null);
__d("KaiOSNavigatorUtils",["KaiOSConnectionHelper","KaiOSSendMessageUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([["nav_mode","spatial"]]),i=new Map([["nav_mode","cursor"]]);function j(a){d("KaiOSSendMessageUtil").postMessage(c("KaiOSConnectionHelper").hostWindow,d("KaiOSSendMessageUtil").Type.TOGGLE_SPATIAL_NAV,a)}function a(){j(i)}function b(){j(h)}g.showCursor=a;g.hideCursor=b}),98);
__d("KaiOSKeyEventHandlers",["KaiOSConnectionHelper","KaiOSControllerConfig","KaiOSControllerUtils","KaiOSHTMLElementUtils","KaiOSMenuHandler","KaiOSNavigatorUtils","KaiOSSendMessageUtil","MViewport","URI","isLinkshimURI","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(c("KaiOSControllerConfig").fullScreenVideoHandler&&c("KaiOSControllerConfig").fullScreenVideoHandler.handleClickEvent(a)){a.preventDefault();a.stopPropagation();return}var b=a.target,e=null;b&&b.tagName==="A"?e=b.href:b&&b.parentElement&&b.parentElement.tagName==="A"?e=b.parentElement.href:b&&b.parentElement&&b.parentElement.parentElement&&b.parentElement.parentElement.tagName==="A"&&(e=b.parentElement.parentElement.href);b=new(h||(h=c("URI")))(e);var f=!c("isStringNullOrEmpty")(e)&&!/\.facebook.com$/i.test(b.getDomain());e!=null&&(c("isLinkshimURI")(b)||f)&&(d("KaiOSControllerUtils").openUrl(e),a.preventDefault(),a.stopPropagation())}function i(a){return c("KaiOSControllerConfig").appVersion!=null&&d("KaiOSHTMLElementUtils").isTextfieldInput(a.target)}function b(a){i(a)&&d("KaiOSNavigatorUtils").hideCursor()}function e(a){i(a)&&d("KaiOSNavigatorUtils").showCursor()}function f(a){if(d("KaiOSMenuHandler").handleKeyEvents(a)||c("KaiOSControllerConfig").fullScreenVideoHandler&&c("KaiOSControllerConfig").fullScreenVideoHandler.handleKeyDownEvent(a)){a.preventDefault();a.stopPropagation();return}switch(a.key){case"Backspace":if(l())break;case"BrowserBack":j(a);break;case"Enter":k(a);break}}function j(a){document.fullscreenElement?(document.exitFullscreen(),a.preventDefault(),a.stopPropagation()):d("KaiOSControllerUtils").keyDownEventHandledByRegPage(a.key)?(a.preventDefault(),a.stopPropagation()):d("KaiOSControllerUtils").isOnHomeOrConfPage()&&d("MViewport").getScrollTop()>5?(a.preventDefault(),a.stopPropagation(),d("MViewport").scrollTo(0,0)):!d("KaiOSControllerUtils").isOnHomeOrConfPage()&&!d("KaiOSControllerUtils").shouldExitOnBackForLoggedOutPush()&&(d("KaiOSSendMessageUtil").postMessage(c("KaiOSConnectionHelper").hostWindow,d("KaiOSSendMessageUtil").Type.HANDLE_BACK),a.preventDefault(),a.stopPropagation())}function k(a){c("KaiOSControllerConfig").appVersion!=null&&a.target.type=="textarea"&&(a.target.blur(),a.preventDefault(),a.stopPropagation())}function l(){var a=document.activeElement;if(a&&a instanceof HTMLInputElement)return!0;else return!1}g.interceptClick=a;g.handleTextfieldFocus=b;g.handleTextfieldBlur=e;g.handleKeyDown=f}),98);
__d("KaiOSLogger",["Banzai","BanzaiLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){c("BanzaiLogger").log("KaiOSEventsLoggerConfig",{event:"update_app_version",event_category:"app_info",app_version:a})};b=function(a,b,d){c("BanzaiLogger").log("KaiOSEventsLoggerConfig",{event:a,event_category:b,extra_data:d})};d=function(a,b,d,e,f,g){var h=window.navigator.connection||null;c("Banzai").post("logger:KaiOSAppMigrationLoggerConfig",babelHelpers["extends"]({event:a,migration_phase:b,experiment_name:f||"unknown",experiment_group:g||"unknown",duration_ms:d?Math.floor(d):0,connection_type:h&&h.type?h.type:"",connection_effective_type:h&&h.effectiveType?h.effectiveType:""},e),{delay:c("Banzai").VITAL_WAIT})};g.logAppVersion=a;g.logWithBanzai=b;g.logAppMigrationEvent=d}),98);
__d("XExternalShareComposerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/kaiosapp/composer/",{privacy_mutation_token:{type:"String"},csid:{type:"String"},length:{type:"Int"}})}),null);
__d("KaiOSShareHandler",["MXAsyncRequest","XExternalShareComposerController"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a===void 0)return;var b=Math.min(a.length,3),d=new FormData();for(var e=0;e<b;e++)d.append("file_"+e,a[e]);e=c("XExternalShareComposerController").getURIBuilder().setInt("length",b).getURI();new(c("MXAsyncRequest"))(e).setRawData(d).setMethod("POST").send()}g.handle=a}),98);
__d("KaiOSController",["KaiOSConnectionHelper","KaiOSControllerConfig","KaiOSControllerUtils","KaiOSFullscreenVideoHandler","KaiOSKeyEventHandlers","KaiOSLogger","KaiOSSendMessageUtil","KaiOSShareHandler","Promise","Stratcom","getActiveElement","promiseDone","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=b("KaiOSControllerUtils").createCallbackHandler(),i="app://m.facebook.com",j=Object.freeze({APP_INFO:"app_info",UPDATE_PUSH:"update_push",CONFIG_REQUEST:"config_request",SHARE_PHOTO:"share_photo",LOG_MIGRATION_EVENT:"log_migration_event",TIME_TO_BROWSER_IFRAME_INIT:"time_to_browser_iframe_init"});function k(a){if(!(a instanceof Map))return;var c=a.get(b("KaiOSSendMessageUtil").Action),d=a.get(b("KaiOSSendMessageUtil").ActionPayload);a=a.get(b("KaiOSSendMessageUtil").CallbackID);if(h.handleCallback(a,d))return;switch(c){case j.APP_INFO:d&&d.get&&(b("KaiOSControllerConfig").appVersion=d.get("app_version"),b("KaiOSControllerConfig").shouldLogAppVersion&&(b("KaiOSLogger").logAppVersion(b("KaiOSControllerConfig").appVersion),b("KaiOSControllerConfig").shouldLogAppVersion=!1),q.setup());break;case j.CONFIG_REQUEST:a=new Map();a.set("show_news_feed_on_notification_back",b("KaiOSControllerConfig").showNewsFeedOnNotificationBack);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.CONFIG_RESPONSE,a);break;case j.SHARE_PHOTO:b("KaiOSShareHandler").handle(d);break;case j.LOG_MIGRATION_EVENT:if(d&&d.get){c=d.get("migration_phase");a=d.get("roundtrip_durations");if(a&&a instanceof Array)for(var e=0;e<a.length;e++)b("KaiOSLogger").logAppMigrationEvent("completed_roundtrip",c,a[e],{roundtrip_count:e+1})}break;case j.TIME_TO_BROWSER_IFRAME_INIT:if(d&&d.get){e=d.get("timeToBrowserIframeInit");c=d.get("timestampAtBrowserIframeInit");a=d.get("migrationPhase");var f=d.get("experimentGroup");d=d.get("experimentName");e&&b("KaiOSLogger").logAppMigrationEvent("completed_browser_iframe_init",a,e,{timestamp_at_browser_iframe_init:c,lid:b("KaiOSControllerConfig").lid},d,f)}break}}function l(a){b("KaiOSControllerConfig").fullScreenVideoHandler&&b("KaiOSControllerConfig").fullScreenVideoHandler.handleMouseMoveEvent(a)&&(a.preventDefault(),a.stopPropagation())}function m(a){if(document.fullscreenElement)document.fullscreenElement.nodeName=="VIDEO"&&(screen.orientation&&screen.orientation.lock("landscape"),document.fullscreenElement.mozRequestPointerLock());else{a=new Map();a.set("orientation","natural");b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.SCREEN_ORIENTATION_LOCK,a)}}var n=null,o=null,p=new(g||(g=b("Promise")))(function(a){o=a}),q={waitForKaiOS:function(){return p},init:function(a){a.get("kaios__dev__")&&(o?o():function(){},q.setup()),b("KaiOSControllerConfig").appID=Number(a.get("app_id")),b("KaiOSControllerConfig").shouldLogAppVersion=!!a.get("should_log_app_version"),n=a.get("fbt_strings"),b("KaiOSControllerConfig").showNewsFeedOnNotificationBack=!!a.get("show_news_feed_on_notification_back"),b("KaiOSControllerConfig").userLoggedIn=!!a.get("user_logged_in"),b("KaiOSControllerConfig").inLatestMigrationPhase=!!a.get("in_latest_migration_phase"),b("KaiOSControllerConfig").migrationGroup=String(a.get("migration_group")),b("KaiOSControllerConfig").lid=String(a.get("lid")),window.addEventListener("message",q.receiveMessage,!1)},setup:function(){var a;window.addEventListener("click",(a=b("KaiOSKeyEventHandlers")).interceptClick,!0);window.addEventListener("keydown",a.handleKeyDown,!1);window.addEventListener("mousemove",l,!0);window.addEventListener("focus",a.handleTextfieldFocus,!0);window.addEventListener("blur",a.handleTextfieldBlur,!0);b("KaiOSControllerConfig").appVersion!=null&&window.addEventListener("fullscreenchange",m,!1);b("Stratcom").listen("click",["m-composer","composer-submit"],function(a){b("setTimeoutAcrossTransitions")(function(){var c=b("getActiveElement")();c&&c==a.getNode("composer-submit")&&c.blur()},100)});b("KaiOSControllerConfig").userLoggedIn&&b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.CHECK_FOR_PUSH_UPDATE);if(n!=null&&n!==""){a=new Map();a.set("fbt_strings",n);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.FBT_STRINGS,a)}a=new Map();a.set("inLatestMigrationPhase",b("KaiOSControllerConfig").inLatestMigrationPhase);a.set("migrationGroup",b("KaiOSControllerConfig").migrationGroup);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.LITE_MIGRATION_STATUS,a);o?o():(function(){})},sendMessageToAppWithCallback:function(a,c){c=h.setCallback(c);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,a,null,c)},registerPush:function(a){a=h.setCallback(a);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.REGISTER_PUSH,null,a)},unregisterPush:function(){b("promiseDone")(q.waitForKaiOS(),function(){b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.UNREGISTER_PUSH)})},receiveMessage:function(a){if(!a||i!=a.origin||!a.source)return;b("KaiOSConnectionHelper").hostWindow||(b("KaiOSConnectionHelper").hostWindow=a.source,b("KaiOSControllerConfig").fullScreenVideoHandler=new(b("KaiOSFullscreenVideoHandler"))(b("KaiOSConnectionHelper").hostWindow),b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.MESSAGE_RECEIVED));a.data&&k(a.data)},_setHostWindowUnitTestsOnly:function(a){b("KaiOSConnectionHelper").hostWindow=a},fetchMsisdn:function(a){a=h.setCallback(a);b("KaiOSSendMessageUtil").postMessage(b("KaiOSConnectionHelper").hostWindow,b("KaiOSSendMessageUtil").Type.FETCH_MSISDN,null,a)}};e.exports=q}),null);
__d("MtouchRegClientEventsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MtouchRegClientEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MtouchRegClientEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MtouchRegClientEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMtouchInstalledRelatedApps=function(a){this.$1.mtouch_installed_related_apps=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setNumWordsFirstName=function(a){this.$1.num_words_first_name=a;return this};c.setNumWordsLastName=function(a){this.$1.num_words_last_name=a;return this};c.setRegImpressionID=function(a){this.$1.reg_impression_id=a;return this};c.setRegInstance=function(a){this.$1.reg_instance=a;return this};return a}();c={event:!0,mtouch_installed_related_apps:!0,num_words_first_name:!0,num_words_last_name:!0,reg_impression_id:!0,reg_instance:!0};f["default"]=a}),66);
__d("MGetInstalledRelatedApps",["FBLogger","MtouchRegClientEventsTypedLogger","memoize","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:h=c;d.next=3;return b("regeneratorRuntime").awrap(i(a,c));case 3:case"end":return d.stop()}},null,this)}function d(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(h==null)){d.next=3;break}c("FBLogger")("mtouch_installed_related_apps").event("mtouch_related_apps.datr_not_stored").warn("Race condition may occur when trying to read the stored datr",",this happens if user starts registration before the login view renders completely");return d.abrupt("return");case 3:d.next=5;return b("regeneratorRuntime").awrap(i(a,h));case 5:case"end":return d.stop()}},null,this)}function i(a,d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(j());case 2:e=h.sent,f=null,e!=null&&(g=[],e.forEach(function(a){g.push({package_name:a.id,mobile_store_platform:a.platform,app_version:a.version})}),f=g),new(c("MtouchRegClientEventsTypedLogger"))().setEvent(a).setMtouchInstalledRelatedApps(f).setRegInstance(d).setRegImpressionID(d).log();case 6:case"end":return h.stop()}},null,this)}var j=c("memoize")(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(typeof navigator.getInstalledRelatedApps!=="function")){a.next=3;break}c("FBLogger")("mtouch_installed_related_apps").event("mtouch_related_apps.function_not_found").warn("The chromium api getInstalledRelatedApps is not found in the lids   browser");return a.abrupt("return",null);case 3:a.prev=3;a.next=6;return b("regeneratorRuntime").awrap(navigator.getInstalledRelatedApps());case 6:return a.abrupt("return",a.sent);case 9:a.prev=9;a.t0=a["catch"](3);c("FBLogger")("mtouch_installed_related_apps").event("mtouch_related_apps.encountered_exception").catching(a.t0).warn("get installed related apps chrome api returned exception");return a.abrupt("return",null);case 13:case"end":return a.stop()}},null,this,[[3,9]])});g.logmTouchInstalledRelatedApps=a;g.logmTouchInstalledRelatedAppsOnRegButtonClick=d}),98);
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d="should_reuse_m_dot_com_tab";e="should_reuse_m_dot_com_tab_response";a={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c,SHOULD_REUSE_M_DOT_COM_TAB:d,SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE:e};f["default"]=a}),66);
__d("BrowserPushMessageHandler",["BrowserPushCommands","EventListener","URI","URISchemes","cr:6901","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i;function j(a){if(a.data.command&&a.data.command===c("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload==="function"&&window.onbeforeunload()===void 0)a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!(i||(i=d("URISchemes"))).isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!c("isFacebookURI")(new(h||(h=c("URI")))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);b("cr:6901")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){c("EventListener").listen(window,"message",function(a){a.origin===""&&j(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&j(a)}),navigator.serviceWorker.addEventListener("message",function(a){var b;b=(b=a.data)!=null?b:{};b=b.command;if(b!==c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB)return;b=[].concat(a==null?void 0:a.ports);a={command:c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE,value:!1};b==null?void 0:b[0].postMessage(a)}))}};e=a;g["default"]=e}),98);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){c("Visibility").isHidden()||h(),c("Visibility").addListener(c("Visibility").VISIBLE,h)}};b=a;g["default"]=b}),98);
__d("NuxWizardFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1039");b=d("FalcoLoggerInternal").create("nux_wizard",a);e=b;g["default"]=e}),98);
__d("MPushPermissionUtil",["BanzaiLogger","NuxWizardFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=c("gkx")("21006");d&&c("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a});if(b){var e=null,f="step";a==="allow"?(e="allow",f="conversion"):a==="deny"?e="deny":a==="install_ignore"?e="ignore":a==="turn_on_attempt"&&(e="show_browser_dialog");e!==null&&c("NuxWizardFalcoEvent").log(function(){return{event:e,event_type:f,platform:"mobile",step:"turn_on_notification"}})}}g.logEvent=a}),98);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b}function a(a,b){var c=g(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}f.normalizeSubscriptionEndpoint=g;f.setupPushRegistrationData=a}),66);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){var g,h=window.Notification,i=new Map(),j=65,k=4;a=function(){"use strict";a.get=function(b,c){if(i.has(c))return i.get(c);b=new a(b,c);i.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(g||(g=b("Promise")))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.send()};c.getMutedUntilInServer=function(a){var c=this;return new(g||(g=b("Promise")))(function(d,e){c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(g){if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(g||(g=b("Promise")))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(f){f?(d.$4(a,c,f),e(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f))):e(null)})["catch"](function(){e(null)})})};c.$5=function(c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,h,i){var j=this;h===void 0&&(h=!1);i===void 0&&(i=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(g||(g=b("Promise")))(function(g,k){j.getPushSubscription().then(function(k){g(!!k||c&&!a.pushPermissionIsPending());var l=j.$6();l=j.$7(k,l);if(k&&l)h?j.$4(d,f,k):b("BrowserPushVisibilityChanger").listenForVisibility();else if((!k||!l)&&c){k=j.$8(k,!l);a.pushPermissionIsOn()?k.then(function(a){return j.registerPush(d,f,i)})["catch"](function(){}):j.$5(e,f,!1)}})["catch"](function(){c&&j.$5(e,f,!1),i&&b("ServiceWorkerRegistration").unregisterControllingWorker(),k()})})};c.$8=function(a,c){if(!!a&&c)return a.unsubscribe().then(function(a){return!!a})["catch"](function(a){throw new Error("Unsubscribing invalid PushToken failed")});else return(g||(g=b("Promise"))).resolve(!0)};c.$7=function(a,c){if(!b("gkx")("21098"))return!0;if(!a)return!1;var d=this.$9(a);return c?!d?!1:this.$10(a,b("BrowserPushPubKey").appServerKey):!d};c.$10=function(a,b){a=this.$11(a);if(!a)return!1;a=new Uint8Array(a);a=window.btoa(String.fromCharCode.apply(null,a));a=a.replace("/","_").replace("=","");return a===b};c.$9=function(a){a=this.$11(a);if(!!a&&a.byteLength===j){a=new Uint8Array(a);return a[0]===k}return!1};c.$11=function(a){return!!a&&!!a.options&&!!a.options.applicationServerKey?a.options.applicationServerKey:null};c.$12=function(){return new(g||(g=b("Promise")))(function(a,b){h.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d){var e=this;d===void 0&&(d=!1);return new(g||(g=b("Promise")))(function(b,f){e.$13(a,c,!0,null,d).then(function(a){if(typeof a!=="string"){f(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](f)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(g||(g=b("Promise")))(function(f,g){b("promiseDone")(d.waitForKaiOS(),function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d);f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,e,d)};c.registerPushWithFinishedCallBack=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(g||(g=b("Promise")))(function(b,g){f.$13(a,c,!1,d,e).then(function(a){if(typeof a!=="boolean"){g(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](g)})};c.$13=function(c,d,e,f,h){var i=this;if(a.$1)return new(g||(g=b("Promise")))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return(g||(g=b("Promise"))).reject(new Error("PushManager not found."));a.$1=!0;return new(g||(g=b("Promise")))(function(j,k){var l=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(i.$3),m=i.$12();(g||(g=b("Promise"))).all([l,m]).then(function(g){var l=g[0];if(!a.pushPermissionIsOn()){h&&l.unregister();throw new Error("Push permission was denied")}e||j(!0);g=b("BrowserPushPubKey").appServerKey;var m=i.$6();m=m?{userVisibleOnly:!0,applicationServerKey:g}:{userVisibleOnly:!0};l.pushManager.subscribe(m).then(function(a){e&&j(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),i.$4(c,d,a),f&&f(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,h&&l.unregister(),k(b)})})["catch"](function(b){a.$1=!1,k(b)})})};c.$6=function(){var a=b("BrowserPushPubKey").appServerKey;return b("gkx")("21099")&&a!=null&&a!=""};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};c=a;f["default"]=c}),66);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("MServiceWorkerLoginAndLogoutListener",["KaiOSController","MRequest","MobileAppDetect","PushRegistration","ServiceWorkerLoginAndLogout","Stratcom","XBrowserPushDisabledController","killswitch"],(function(a,b,c,d,e,f){a={listen:function(a,c,d,e){b("Stratcom").listen("click",a,function(){if(b("MobileAppDetect").is_kaios){if(!e)return;if(b("killswitch")("NOTIFICATIONS_LOGGED_OUT_PUSH_KAIOS_TOKEN_HANDLING")){var a=b("PushRegistration").get(d,e);a.unregisterPushAndSWOnKaiOS(b("XBrowserPushDisabledController"),b("MRequest"),b("KaiOSController"),!1)}}else if(c==="login")b("ServiceWorkerLoginAndLogout").login();else if(c==="logout")b("ServiceWorkerLoginAndLogout").logout();else throw new Error("bad login type given")})}};e.exports=a}),null);